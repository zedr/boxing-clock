#:kivy 1.9.1
#: import format_time boxe_clock.utils.format_time

<MenuRow@BoxLayout>:
    orientation: "horizontal"
    padding: 0, 0, 50, 0

<MenuLabel@Label>:
    font_size: 24
    markup: True
    size_hint: 0.25, 1

<MenuSlider@Slider>:
    step: 5
    value_track: True

<MenuButton@Button>:
    font_size: 24
    size_hint: 0.5, 0.5
    pos_hint: {"center_y": 0.5}

<ConfigMenu>:
    orientation: "vertical"
    MenuRow:
        size_hint: 1, 0.25
        MenuLabel:
            font_size: 36
            text: "Configuration"
    MenuRow:
        MenuLabel:
            text: "Warmup time:"
        MenuLabel:
            text: format_time(int(warmup_slider.value))
        MenuSlider:
            id: warmup_slider
            size_hint_x: 0.5
            range: 0, 60
            value: root.config.warmup_duration
            on_value:
                root.config.warmup_duration = int(self.value)
    MenuRow:
        MenuLabel:
            text: "Round time:"
        MenuLabel:
            text: format_time(int(round_slider.value))
        MenuSlider:
            id: round_slider
            size_hint_x: 0.5
            range: 30, 600
            step: 30
            value: root.config.round_duration
            on_value:
                root.config.round_duration = int(self.value)
    MenuRow:
        MenuLabel:
            text: "Recovery time:"
        MenuLabel:
            text: format_time(int(recovery_slider.value))
        MenuSlider:
            id: recovery_slider
            size_hint_x: 0.5
            range: 0, 300
            step: 5
            value: root.config.recovery_duration
            on_value:
                root.config.recovery_duration = int(self.value)
    MenuRow:
        MenuLabel:
            text: "Bell sound:"
        MenuButton:
            text: root.config.bells.current.name
            on_press:
                root.config.bells.rotate()
                self.text = root.config.bells.current.name
